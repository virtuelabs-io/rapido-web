<mat-vertical-stepper [linear]="true" #stepper class="nav-bar-spacing">
  <mat-step [stepControl]="registerFormGroup">
      <ng-template matStepLabel><h4>User Details</h4></ng-template>
      <form [formGroup]="registerFormGroup" class="example-container" novalidate (ngSubmit)="createUser(registerFormGroup.value)">
        <!-- <mat-card-content> -->
            <mat-form-field class="col-lg-4" >
                <span matPrefix>+44 &nbsp;</span>
                <input matInput maxlength="15" placeholder="Mobile Number" formControlName="mobileNumber" [(ngModel)]="mobileNumber.value">
                <mat-hint align="end">Only Numbers</mat-hint>
                <mat-error *ngIf="hasError('mobileNumber', 'required')">Mobile Number is required</mat-error>
                <mat-error *ngIf="hasError('mobileNumber', 'pattern')">Only Numbers</mat-error>
            </mat-form-field>        
        <!-- </mat-card-content> -->
          <mat-card-actions>
            <button mat-flat-button matStepperNext (click)="forgotPassword()" color="primary" type="submit" [disabled]="!registerFormGroup.valid">Submit</button>
            <h5 *ngIf="_forgottenPassword">Password Changed</h5>
          </mat-card-actions>
      </form>
  </mat-step>
  <mat-step [stepControl]="codeConfirmationFormGroup">
    <ng-template matStepLabel><h4>Mobile Number Verification</h4></ng-template>
    <form class="example-container" [formGroup]="codeConfirmationFormGroup">
      <mat-form-field class="col-lg-4" >
        <input matInput placeholder="Mobile Number" formControlName="mobileNumber" [(ngModel)]="mobileNumber.value">
        <mat-error *ngIf="mobileNumber.invalid">Error in Validation</mat-error>
      </mat-form-field>
      <mat-form-field class="col-lg-4" >
        <input matInput placeholder="Confirmation code" formControlName="confirmationCode">
        <mat-error *ngIf="confirmationCode.invalid">Error in Validation</mat-error>
      </mat-form-field>
      <mat-card-actions>
        <button mat-flat-button color="primary">Resend Code</button>
        <button mat-flat-button matStepperNext color="primary" type="submit" [disabled]="!codeConfirmationFormGroup.valid">Submit</button>
    </mat-card-actions> 
    </form>
  </mat-step>
  <mat-step [stepControl]="newPasswordFormGroup">
      <ng-template matStepLabel><h4>Password</h4></ng-template>
      <form class="example-container" [formGroup]="newPasswordFormGroup">
          <mat-form-field class="col-lg-4" >
              <input matInput placeholder="Enter your password" [type]="hide ? 'password' : 'text'" formControlName="password">
              <mat-error *ngIf="newPasswordFormGroup.invalid">Password is required</mat-error>
              <mat-icon matSuffix (click)="hide = !hide">{{hide ? 'visibility_off' : 'visibility'}}</mat-icon> 
      </mat-form-field>
      <div class="mt-2"></div>

      <mat-form-field class="col-lg-4">
                <input matInput placeholder="Confirm Password" [type]="hide ? 'password' : 'text'" formControlName="confirmPassword">
                <!-- <mat-error *ngIf="newPasswordFormGroup.invalid">Password is required</mat-error> -->
                <mat-icon matSuffix (click)="hide = !hide">{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
      </mat-form-field>
        <mat-card-actions>
          <button mat-flat-button color="primary">Resend Code</button>
          <button mat-flat-button matStepperNext color="primary" type="submit" [disabled]="!newPasswordFormGroup.valid">Submit</button>
      </mat-card-actions> 
      </form>
    </mat-step>
  <mat-step>
    <ng-template matStepLabel><h4>Done</h4></ng-template>
    You are now done.
    <div>
      <svg>
        <use xlink:href="#check-mark" />
      </svg>
    </div>
    <button mat-flat-button routerLink="/sign-in"  color="primary" type="submit">Navigate to Sign In Page</button>
  </mat-step>
</mat-vertical-stepper>
